<html>
<head>

    <script>
         function carregaCategorias () {
           
            fetch('/api/categorias').then (
               async (rest) => {
                    let categorias = await rest.json();
                    let select = document.getElementById("optionCatg");

                    categorias.forEach(element => {
                        select.appendChild(new Option(element, element));
                    });


                }
            );
        }

           function carregaAnedota () {
           
            let combo = document.getElementById("optionCatg");

           

            fetch('/api/anedota/' + combo.value).then (
               async (rest) => {
                    let texto = await rest.json();
                    let place_holder = document.getElementById("anedota_placeholder");

                    place_holder.innerHTML = texto.value;


                }
            );
        }

    </script>



</head>



<body onload="javascript:carregaCategorias()">
    Categoria:
    
        <select id="optionCatg">
        </select>

  
    <button name="Obter" onclick="javascript:carregaAnedota()"> 
        Obter
    </button>
    <br>
    <br>
    <img src="https://api.chucknorris.io/img/avatar/chuck-norris.png" />
    <div id="anedota_placeholder"
        <h1>
            Ol√° Mundo!
        </h1>
    </div>

</body>

</html>