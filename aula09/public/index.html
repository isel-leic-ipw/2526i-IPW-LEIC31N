<html>
<head>

    <style>
    .round-image {
        height: 10%; /* Ensure width and height are equal */
        border-radius: 50%; /* Makes the image circular */
        object-fit: cover; /* Ensures proper scaling */
    }

    </style>

    <script>
         function carregaCategorias () {
           
            fetch('/api/categorias').then (
               async (rest) => {
                    let categorias = await rest.json();
                    let select = document.getElementById("optionCatg");

                    categorias.forEach(element => {
                        select.appendChild(new Option(element, element));
                    });


                }
            );
        }

           function carregaAnedota () {
           
            let combo = document.getElementById("optionCatg");
            let nome  = document.getElementById("nome");
           

            fetch('/api/anedota/' + combo.value + '/' + nome.value).then (
               async (rest) => {
                    let texto = await rest.json();
                    let place_holder = document.getElementById("anedota_placeholder");

                    place_holder.innerHTML = texto.value;


                }
            );
        }

    </script>



</head>



<body onload="javascript:carregaCategorias()">
    <span>Nome:</span> <input type="text" id="nome" value="Chuck Norris"/>
    <br>
    Categoria:
    
        <select id="optionCatg">
        </select>

  
    <button name="Obter" onclick="javascript:carregaAnedota()"> 
        Obter
    </button>
    <br>
    <br>

    <img src="https://api.chucknorris.io/img/avatar/chuck-norris.png" />
    <!--
    <img src="https://tse2.mm.bing.net/th/id/OIP.n1HTTniKIdYo19_Sy2PLOAHaGZ?cb=12&rs=1&pid=ImgDetMain&o=7&rm=3" />
    -->

    
    <div id="anedota_placeholder"
        <h1>
            Ol√° Mundo!
        </h1>
    </div>

</body>

</html>